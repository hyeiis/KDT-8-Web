<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .box {
        border: 1px solid black;
        width: 100px;
        height: 100px;
      }
      #green {
        background-color: greenyellow;
      }
      #red {
        background-color: crimson;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="box" id="green">1</div>
      <div class="box" id="red">2</div>
      <div class="box">3</div>
      <div class="box">4</div>
      <div class="box">5</div>
    </div>
    <input type="text" name="userName" />

    <script>
      // 요소 선택
      // 1. getElementById : id 속성 값으로 요소를 선택하여 가져옴 - 특정 1개의 요소만 선택
      let dom1 = document.getElementById("green");
      console.log("dom1: ", dom1);

      // getElements처럼 s가 붙으면 요소들이 배열로 가져와짐
      // 2. getElementsByClassName: class 속성 값으로 요소를 선택하여 가져옴 - HTMLCollection 배열
      let dom2 = document.getElementsByClassName("box");
      console.log("dom2: ", dom2);
      //   for (let i = 0; i < dom2.length; i++) {
      //     console.log(dom2[i]);

      //   }

      // 3. getElementsByTagName: tag 이름을 기준으로 요소를 선택하여 가져옴 - HTMLCollection 배열
      let dom3 = document.getElementsByTagName("div");
      console.log("dom3: ", dom3);

      // 4. getElementsByName: name 속성 값으로 요소를 선택하여 가져옴 - NodeList 배열
      let dom4 = document.getElementsByName("userName");
      console.log("dom4: ", dom4);

      // 5. querySelector: 특정 속성이 아닌 내가 원하는 것을 선택자를 이용해 가져옴 - 단, 여러 개일 경우 최상위 것만
      // - css 선택자와 동일 (#: id 속성 | .: class 속성 | [name='']: name 속성 | tag: tag 속성)
      let dom5 = document.querySelector("#red");
      console.log("dom5: ", dom5);
      let dom6 = document.querySelector("div");
      console.log("dom6: ", dom6);

      // 6. querySelectorAll: querySelector와 동일하지만 여러 개를 가져올 수 있음 - NodeList 배열
      let dom7 = document.querySelectorAll("div");
      console.log("dom7: ", dom7);
    </script>

    <!-- 
        *HTMLCollection VS NodeList*
        <차이 1.>
        - HTMLCollection 객체는 <> 요소 노드만 포함(태그 요소만 포함)
        - NodeList 객체는 <> 요소 노드, 텍스트 노드, 속성 노드 등 모든 노드 포함
        
        <차이 2.>
        - HTMLCollection 객체는 자식 요소 노드에 접근할 때, index 방식과 namedItem 메소드 방식 사용 가능하다
        - NodeList 객체는 자식 요소 노드에 접근할 때, index로만 접근 가능하다

        <차이 3.>
        - HTMLCollection은 동적 객체이고, NodeList는 정적 객체이다.
            - HTMLCollection 객체는 DOM을 다루며 새로운 요소를 추가했을 때, 추가된 요소도 가져올 수 있다.
            - NodeList 객체는 DOM을 다루며 새로운 요소를 추가했을 때, 추가된 요소를 가져올 수 없다.
                (내가 처음 읽을 때 정해진 요소들만)

        <차이 4.>
        - HTMLCollection[]: 실제 배열 x, 배열과 유사한 객체. forEach 사용 불가 (실제 배열 아니라서)
        - NodeList[]: 실제 배열 o, forEach 사용 가능
    -->
    <div id="abc">
      TEXT
      <div id="div_id1">div text</div>
      <div>div text</div>
    </div>

    <script>
      let abc = document.getElementById("abc");
      let abc_children = abc.children;
      let abc_childNodes = abc.childNodes;

      console.log("abc: ", abc);
      console.log("abc.children: ", abc.children); //children: HTMLCollection 배열
      // HTMLCollection: 요소 노드만 포함 (태그)
      console.log("htmlcollection: ", abc_children.namedItem("div_id1")); // HTMLCollection은 인덱스 외에도 namedItem이라는 함수로도 자식 요소 노드에 접근 가능
      console.log("abc.childNodes: ", abc.childNodes); // childNodes: NodeList 배열 _ 인덱스로만 자식 요소 노드에 접근 가능

      let dom3_3 = document.getElementsByTagName("div");
      let dom7_7 = document.querySelectorAll("div");

      let div1 = document.createElement("div");
      div1.innerHTML = "abcdefghi";
      abc.appendChild(div1);

      console.log("dom3_3: ", dom3_3); // 새로 추가된 요소 반영 o
      //   dom3_3.forEach((dom) => {
      //     console.log(dom);
      //   });
      console.log("dom7_7: ", dom7_7); // 새로 추가된 요소 반영 x
      dom7_7.forEach((dom) => {
        console.log(dom);
      });
    </script>
  </body>
</html>
