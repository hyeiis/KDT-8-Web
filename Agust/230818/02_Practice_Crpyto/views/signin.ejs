<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>LOGIN</title>
</head>

<body>
    <form name="login-form">
        <fieldset>
            <legend>LOGIN</legend>
            <input type="text" id="id" placeholder="ID"><br>
            <input type="password" id="pw" placeholder="PASSWORD">
        </fieldset>
        <button type="button" onclick="loginFunc()">LOGIN</button>
    </form>

    <script>
        async function loginFunc() {
            const userid = document.getElementById("userid").value
            const pw = document.getElementById("pw").value
            const data = {
                userid: userid,
                pw: pw,
            }

            const result = await axios({
                url: '/signin',
                method: "POST",
                data: data
            })
            if (result.data.result) {
                alert('환영합니다~')
                document.location.href = '/'
            } else {
                // 에러 메시지
                alert(result.data.message)
            }


        }
    </script>
</body>

</html>